@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  /* Default to light theme */
  color-scheme: light;
  color: #213547;
  background-color: #ffffff;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Default CSS variables for components */
  --background: 0 0% 100%;
  --foreground: 215.4 16.3% 26.9%;
  --card: 0 0% 100%;
  --card-foreground: 215.4 16.3% 26.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 215.4 16.3% 26.9%;
  --primary: 158.1 64.4% 51.6%;
  --primary-foreground: 0 0% 100%;
  --secondary: 200.4 98% 39.4%;
  --secondary-foreground: 0 0% 100%;
  --muted: 215.4 16.3% 96.9%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 47.9 95.8% 53.1%;
  --accent-foreground: 26 83.3% 14.1%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 215.3 19.3% 88.2%;
  --input: 215.3 19.3% 88.2%;
  --ring: 158.1 64.4% 51.6%;
  --radius: 0.75rem;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  /* Remove flex and place-items to allow full width layouts */
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

/* Base input styles */
input, textarea, select {
  background-color: white;
  color: #213547;
  border: 1px solid hsl(215.3 19.3% 88.2%);
  border-radius: 6px;
}

input:focus, textarea:focus, select:focus {
  outline: 2px solid hsl(158.1 64.4% 51.6%);
  outline-offset: 2px;
  border-color: hsl(158.1 64.4% 51.6%);
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #f9f9f9;
  color: #213547;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

/* Dark theme support (only when explicitly applied) */
.dark {
  color-scheme: dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;
}

.dark input, 
.dark textarea, 
.dark select {
  background-color: #1a1a1a;
  color: rgba(255, 255, 255, 0.87);
  border-color: #3a3a3a;
}

/* Dark theme autocomplete fixes */
.dark input:-webkit-autofill,
.dark input:-webkit-autofill:hover,
.dark input:-webkit-autofill:focus,
.dark input:-webkit-autofill:active,
.dark textarea:-webkit-autofill,
.dark textarea:-webkit-autofill:hover,
.dark textarea:-webkit-autofill:focus,
.dark select:-webkit-autofill,
.dark select:-webkit-autofill:hover,
.dark select:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 1000px #1a1a1a inset !important;
  -webkit-text-fill-color: rgba(255, 255, 255, 0.87) !important;
  background-color: #1a1a1a !important;
  background-image: none !important;
  transition: background-color 5000s ease-in-out 0s;
}

.dark button {
  background-color: #1a1a1a;
  color: rgba(255, 255, 255, 0.87);
}

/* Global layout fixes */
*, *::before, *::after {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

#root {
  width: 100vw;
  min-height: 100vh;
}

/* Ensure container elements take full width */
.container-fluid {
  width: 100%;
  max-width: none;
}

/* Fix for form inputs to ensure proper styling */
.form-input, 
input[type="text"], 
input[type="email"], 
input[type="password"], 
input[type="number"], 
input[type="tel"], 
input[type="url"],
input[type="search"],
textarea,
select {
  background-color: white !important;
  color: #213547 !important;
  border: 1px solid hsl(215.3 19.3% 88.2%) !important;
  border-radius: 6px;
  padding: 8px 12px;
}

.form-input:focus, 
input[type="text"]:focus, 
input[type="email"]:focus, 
input[type="password"]:focus, 
input[type="number"]:focus, 
input[type="tel"]:focus, 
input[type="url"]:focus,
input[type="search"]:focus,
textarea:focus,
select:focus {
  outline: 2px solid hsl(158.1 64.4% 51.6%) !important;
  outline-offset: 2px;
  border-color: hsl(158.1 64.4% 51.6%) !important;
  background-color: white !important;
}

/* Remove browser autocomplete watermarks/backgrounds - Enhanced version */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 1000px white inset !important;
  -webkit-text-fill-color: #213547 !important;
  background-color: white !important;
  background-image: none !important;
  transition: background-color 5000s ease-in-out 0s;
  caret-color: #213547 !important;
}

/* Additional watermark removal for all browsers */
input::-webkit-input-placeholder,
input::-moz-placeholder,
input:-ms-input-placeholder,
input::placeholder,
textarea::-webkit-input-placeholder,
textarea::-moz-placeholder,
textarea:-ms-input-placeholder,
textarea::placeholder {
  background-image: none !important;
  background-color: transparent !important;
}

/* Remove Edge and IE watermarks */
input::-ms-clear,
input::-ms-reveal {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* Remove Chrome search suggestions watermark */
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  display: none !important;
}

/* Remove Firefox clear button */
input[type="search"]::-moz-search-clear-button {
  display: none !important;
}

/* Remove any potential watermark from browser suggestions */
input::-webkit-input-placeholder,
textarea::-webkit-input-placeholder {
  color: hsl(215.4 16.3% 46.9%) !important;
  opacity: 1 !important;
}

input::-moz-placeholder,
textarea::-moz-placeholder {
  color: hsl(215.4 16.3% 46.9%) !important;
  opacity: 1 !important;
}

input:-ms-input-placeholder,
textarea:-ms-input-placeholder {
  color: hsl(215.4 16.3% 46.9%) !important;
  opacity: 1 !important;
}

input::placeholder,
textarea::placeholder {
  color: hsl(215.4 16.3% 46.9%) !important;
  opacity: 1 !important;
}

/* Prevent any background images or watermarks - Enhanced */
input, textarea, select {
  background-image: none !important;
  background-attachment: scroll !important;
  background-repeat: no-repeat !important;
  background-position: 0% 0% !important;
  background-size: auto !important;
  -webkit-background-composite: source-over !important;
  background-origin: padding-box !important;
  background-blend-mode: normal !important;
}

/* Force clean background for specific input types */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="url"],
input[type="search"],
input[type="number"],
textarea {
  background: white !important;
  -webkit-text-security: none !important;
}

/* Remove any browser-specific decorations */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none !important;
  appearance: none !important;
  margin: 0 !important;
}

input[type="number"] {
  -moz-appearance: textfield !important;
  appearance: textfield !important;
}

/* Fix for Chrome and Edge autocomplete suggestions */
input[type="text"]::-webkit-contacts-auto-fill-button,
input[type="email"]::-webkit-contacts-auto-fill-button,
input[type="tel"]::-webkit-contacts-auto-fill-button {
  visibility: hidden;
  display: none !important;
  pointer-events: none;
  position: absolute;
  right: 0;
}

/* Remove any system watermarks or backgrounds */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
input[type="url"],
input[type="search"],
textarea {
  -webkit-appearance: none;
  -moz-appearance: textfield;
  appearance: none;
}

/* Ensure no browser default styling interferes */
input:not([type="checkbox"]):not([type="radio"]):not([type="range"]),
textarea,
select {
  background-color: white !important;
  -webkit-background-clip: padding-box !important;
  background-clip: padding-box !important;
}

/* Additional protection against watermarks and autocomplete styling */
input:-webkit-autofill::first-line,
input:-webkit-autofill::first-letter {
  background-color: white !important;
  background-image: none !important;
}

/* Remove any potential watermark overlays */
input::before,
input::after,
textarea::before,
textarea::after {
  display: none !important;
  content: none !important;
  background: none !important;
}

/* Force override for all input states */
input[type="text"]:not(:focus):not(:hover):not(:active),
input[type="email"]:not(:focus):not(:hover):not(:active),
input[type="password"]:not(:focus):not(:hover):not(:active),
input[type="tel"]:not(:focus):not(:hover):not(:active),
textarea:not(:focus):not(:hover):not(:active),
select:not(:focus):not(:hover):not(:active) {
  background-color: white !important;
  background-image: none !important;
  border: 1px solid hsl(215.3 19.3% 88.2%) !important;
}

/* Specific fix for Tailwind classes that might have background images */
.border-slate-300,
.focus\:ring-2,
.focus\:ring-emerald-500,
.focus\:border-transparent {
  background-image: none !important;
}

/* Override any potential CSS custom properties that might add watermarks */
input,
textarea,
select {
  --tw-bg-opacity: 1 !important;
  --tw-border-opacity: 1 !important;
}

/* -----------------------------
   Admin Theme Variables (Scoped)
------------------------------ */
.admin {
  /* Light Mode Variables */
  --background: 0 0% 100%;
  --foreground: 215.4 16.3% 26.9%;
  --card: 0 0% 100%;
  --card-foreground: 215.4 16.3% 26.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 215.4 16.3% 26.9%;
  --nav-primary: 215.4 16.3% 46.9%;
  --nav-primary-foreground: 0 0% 100%;
  --nav-hover: 215.4 16.3% 36.9%;
  --nav-active: 215.4 16.3% 26.9%;
  --primary: 158.1 64.4% 51.6%;
  --primary-foreground: 0 0% 100%;
  --primary-glow: 156.2 73.4% 86.3%;
  --secondary: 200.4 98% 39.4%;
  --secondary-foreground: 0 0% 100%;
  --secondary-light: 204 93.8% 93.7%;
  --accent: 47.9 95.8% 53.1%;
  --accent-foreground: 26 83.3% 14.1%;
  --accent-light: 54.5 91.7% 95.3%;
  --muted: 215.4 16.3% 96.9%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 215.3 19.3% 88.2%;
  --input: 215.3 19.3% 88.2%;
  --ring: 158.1 64.4% 51.6%;
  --radius: 0.75rem;

  --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(158.1 64.4% 41.6%));
  --gradient-secondary: linear-gradient(135deg, hsl(var(--secondary)), hsl(200.4 98% 29.4%));
  --gradient-accent: linear-gradient(135deg, hsl(var(--accent)), hsl(47.9 95.8% 43.1%));
  --gradient-hero: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 50%, hsl(var(--accent)) 100%);

  --shadow-elegant: 0 10px 25px -5px hsl(var(--primary) / 0.1), 0 10px 10px -5px hsl(var(--primary) / 0.04);
  --shadow-card: 0 4px 6px -1px hsl(215.4 16.3% 46.9% / 0.1), 0 2px 4px -1px hsl(215.4 16.3% 46.9% / 0.06);

  --sidebar-background: hsl(210, 10%, 92%);;
  --sidebar-foreground: 240 5.3% 26.1%;
  --sidebar-primary: 240 5.9% 10%;
  --sidebar-primary-foreground: 0 0% 98%;
  --sidebar-accent: 240 4.8% 95.9%;
  --sidebar-accent-foreground: 240 5.9% 10%;
  --sidebar-border: 220 13% 91%;
  --sidebar-ring: 217.2 91.2% 59.8%;
}

/* Dark Mode Scoped */
.admin.dark {
  --background: 215.4 27.9% 7.9%;
  --foreground: 215.4 16.3% 96.9%;
  --card: 215.4 27.9% 10.2%;
  --card-foreground: 215.4 16.3% 96.9%;
  --popover: 215.4 27.9% 10.2%;
  --popover-foreground: 215.4 16.3% 96.9%;
  --primary: 158.1 64.4% 51.6%;
  --primary-foreground: 0 0% 100%;
  --primary-glow: 156.2 73.4% 76.3%;
  --secondary: 200.4 98% 49.4%;
  --secondary-foreground: 0 0% 100%;
  --secondary-light: 204 93.8% 83.7%;
  --accent: 47.9 95.8% 63.1%;
  --accent-foreground: 26 83.3% 14.1%;
  --accent-light: 54.5 91.7% 85.3%;
  --muted: 215.4 27.9% 16.9%;
  --muted-foreground: 215.3 16.3% 65.9%;
  --destructive: 0 75.7% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 215.4 27.9% 16.9%;
  --input: 215.4 27.9% 16.9%;
  --ring: 158.1 64.4% 51.6%;
  --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(158.1 64.4% 41.6%));
  --gradient-secondary: linear-gradient(135deg, hsl(var(--secondary)), hsl(200.4 98% 39.4%));
  --gradient-accent: linear-gradient(135deg, hsl(var(--accent)), hsl(47.9 95.8% 53.1%));
  --gradient-hero: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 50%, hsl(var(--accent)) 100%);
  --shadow-elegant: 0 10px 25px -5px hsl(0 0% 0% / 0.4), 0 10px 10px -5px hsl(0 0% 0% / 0.1);
  --shadow-card: 0 4px 6px -1px hsl(0 0% 0% / 0.3), 0 2px 4px -1px hsl(0 0% 0% / 0.1);
  --sidebar-background: 240 5.9% 10%;
  --sidebar-foreground: 240 4.8% 95.9%;
  --sidebar-primary: 224.3 76.3% 48%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 240 3.7% 15.9%;
  --sidebar-accent-foreground: 240 4.8% 95.9%;
  --sidebar-border: 240 3.7% 15.9%;
  --sidebar-ring: 217.2 91.2% 59.8%;
}

/* Admin theme input fixes - prevent watermarks */
.admin input:-webkit-autofill,
.admin input:-webkit-autofill:hover,
.admin input:-webkit-autofill:focus,
.admin input:-webkit-autofill:active,
.admin textarea:-webkit-autofill,
.admin textarea:-webkit-autofill:hover,
.admin textarea:-webkit-autofill:focus,
.admin select:-webkit-autofill,
.admin select:-webkit-autofill:hover,
.admin select:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 1000px hsl(var(--background)) inset !important;
  -webkit-text-fill-color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--background)) !important;
  background-image: none !important;
  transition: background-color 5000s ease-in-out 0s;
}

.admin input, 
.admin textarea, 
.admin select {
  background-image: none !important;
  background-attachment: scroll !important;
  background-repeat: no-repeat !important;
  background-position: 0% 0% !important;
}

/* Admin dark theme autocomplete fixes */
.admin.dark input:-webkit-autofill,
.admin.dark input:-webkit-autofill:hover,
.admin.dark input:-webkit-autofill:focus,
.admin.dark input:-webkit-autofill:active,
.admin.dark textarea:-webkit-autofill,
.admin.dark textarea:-webkit-autofill:hover,
.admin.dark textarea:-webkit-autofill:focus,
.admin.dark select:-webkit-autofill,
.admin.dark select:-webkit-autofill:hover,
.admin.dark select:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 1000px hsl(var(--background)) inset !important;
  -webkit-text-fill-color: hsl(var(--foreground)) !important;
  background-color: hsl(var(--background)) !important;
  background-image: none !important;
}

/* ========================================
   COMPREHENSIVE WATERMARK REMOVAL FIX
======================================== */

/* Remove ALL possible watermark sources */
input::-webkit-credentials-auto-fill-button,
input::-webkit-strong-password-auto-fill-button,
input::-webkit-caps-lock-indicator,
input::-webkit-contact-auto-fill-button,
input[type="password"]::-webkit-caps-lock-indicator {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  position: absolute !important;
  left: -9999px !important;
}

/* Remove Microsoft Edge password reveal button watermark */
input::-ms-reveal,
input::-ms-clear {
  display: none !important;
}

/* Remove Firefox password suggestions */
input[type="password"]::-moz-placeholder {
  opacity: 0.6 !important;
}

/* Comprehensive background override for all form elements */
input[class*="pl-10"],
input[class*="pr-4"],
input[class*="py-3"],
input[class*="border"],
input[class*="border-slate"],
input[class*="rounded"],
input[class*="focus:ring"],
textarea[class*="pl-10"],
textarea[class*="pr-4"],
textarea[class*="py-3"],
select[class*="pl-10"],
select[class*="pr-4"],
select[class*="py-3"] {
  background-color: white !important;
  background-image: none !important;
  background-repeat: no-repeat !important;
  background-position: 0 0 !important;
  background-size: auto !important;
  background-attachment: scroll !important;
  background-origin: padding-box !important;
  background-clip: padding-box !important;
}

/* Force clean state for inputs with Tailwind focus classes */
.focus\:ring-2.focus\:ring-emerald-500,
.focus\:border-transparent {
  background-color: white !important;
  background-image: none !important;
}

/* Remove any pseudo-element watermarks */
input::before,
input::after,
input::-webkit-inner-spin-button::before,
input::-webkit-inner-spin-button::after,
textarea::before,
textarea::after,
select::before,
select::after {
  display: none !important;
  content: none !important;
  background: none !important;
  opacity: 0 !important;
}

/* Ultimate fallback - force override any remaining backgrounds */
[class*="w-full"][class*="border"][class*="rounded"] {
  background: white !important;
}

/* Specific targeting for your form inputs */
input[placeholder*="email"],
input[placeholder*="Email"],
input[placeholder*="password"],
input[placeholder*="Password"],
input[placeholder*="name"],
input[placeholder*="Name"],
input[placeholder*="phone"],
input[placeholder*="Phone"],
input[type="email"][placeholder],
input[type="password"][placeholder],
input[type="text"][placeholder],
input[type="tel"][placeholder] {
  background-color: white !important;
  background-image: none !important;
  box-shadow: none !important;
}

/* Remove any box-shadow that might contain watermarks */
input:not(:focus):not(:hover) {
  box-shadow: none !important;
}

/* Override Lucide React icon positioning that might interfere */
.relative input + svg,
.relative input + button > svg {
  pointer-events: none !important;
  z-index: 10 !important;
}

/* ========================================
   SPECIFIC FIX FOR LOGIN & REGISTER FORMS
======================================== */

/* Target the exact classes used in Login, SignUp, AdminSignUp, and AddTeacherForm */
.w-full.pl-10.pr-4.py-3.border.border-slate-300.rounded-lg.focus\:ring-2.focus\:ring-emerald-500.focus\:border-transparent,
.w-full.pl-10.pr-12.py-3.border.border-slate-300.rounded-lg.focus\:ring-2.focus\:ring-emerald-500.focus\:border-transparent,
.w-full.px-4.py-3.border.border-slate-300.rounded-lg.focus\:ring-2.focus\:ring-emerald-500 {
  background-color: white !important;
  background-image: none !important;
  background-repeat: no-repeat !important;
  background-position: 0 0 !important;
  background-size: auto !important;
  background-attachment: scroll !important;
  -webkit-box-shadow: none !important;
  box-shadow: none !important;
}

/* Specific fix for inputs with left padding for icons */
input.pl-10 {
  background-color: white !important;
  background-image: none !important;
}

/* Focus state override */
input.pl-10:focus,
input.pr-4:focus,
input.py-3:focus {
  background-color: white !important;
  background-image: none !important;
  -webkit-box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2) !important;
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2) !important;
}

/* Remove watermarks from password fields specifically */
input[type="password"].pl-10,
input[type="password"].pr-12 {
  background-color: white !important;
  background-image: none !important;
  -webkit-text-security: disc !important;
}

/* Remove watermarks from email fields specifically */
input[type="email"].pl-10 {
  background-color: white !important;
  background-image: none !important;
}

/* AddTeacherForm specific inputs */
.w-full.border.p-2.rounded.focus\:outline-none.focus\:ring-2.focus\:ring-emerald-500 {
  background-color: white !important;
  background-image: none !important;
}

/* Override any Tailwind utility that might add backgrounds */
.border-slate-300 {
  background-color: white !important;
  background-image: none !important;
}

.rounded-lg {
  background-image: none !important;
}

/* Force clean state for all form containers */
.bg-white.rounded-lg.shadow-lg.p-8 input,
.bg-white.p-6.rounded.shadow-md input {
  background-color: white !important;
  background-image: none !important;
}

/* Remove autofill styling specifically for these forms */
input.pl-10:-webkit-autofill,
input.pr-4:-webkit-autofill,
input.py-3:-webkit-autofill,
input.border:-webkit-autofill,
input.rounded-lg:-webkit-autofill {
  -webkit-box-shadow: 0 0 0 1000px white inset !important;
  -webkit-text-fill-color: #213547 !important;
  background-color: white !important;
  background-image: none !important;
  transition: background-color 5000s ease-in-out 0s !important;
}

/* Additional browser-specific watermark removal for login/register forms */
input[placeholder="Enter your email"]:-webkit-autofill,
input[placeholder="Enter your password"]:-webkit-autofill,
input[placeholder="Create a password"]:-webkit-autofill,
input[placeholder="Confirm your password"]:-webkit-autofill,
input[placeholder="First name"]:-webkit-autofill,
input[placeholder="Last name"]:-webkit-autofill,
input[placeholder="e.g., +94712345678"]:-webkit-autofill {
  -webkit-box-shadow: 0 0 0 1000px white inset !important;
  -webkit-text-fill-color: #213547 !important;
  background-color: white !important;
  background-image: none !important;
}

/* Force override for any remaining background issues */
.relative > input[type="email"],
.relative > input[type="password"],
.relative > input[type="text"],
.relative > input[type="tel"] {
  background: white !important;
  background-color: white !important;
  background-image: none !important;
}

/* Prevent any overlay elements from showing watermarks */
.relative::before,
.relative::after {
  display: none !important;
}

/* Ensure icons don't interfere with input backgrounds */
.absolute.left-3.top-1\/2.transform.-translate-y-1\/2.text-slate-400 {
  background: none !important;
  z-index: 1 !important;
}

/* Final override - force clean backgrounds on all form inputs */
form input[type="text"],
form input[type="email"],
form input[type="password"],
form input[type="tel"],
form textarea,
form select {
  background: white !important;
  background-color: white !important;
  background-image: none !important;
  -webkit-appearance: none !important;
  appearance: none !important;
}
